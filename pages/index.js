import Head from 'next/head'
import Image from 'next/image'
import styles from '../styles/Home.module.css'
import styled from 'styled-components';
import {SneakerCard} from '../Components/SneakerCard/SneakerCard';
import { Header } from '../Components/Header/Header';
import { PastPresent } from '../Components/Past-Present/PastPresent';
import { SneakerFeed } from '../Components/SneakerFeed/SneakerFeed';
import { NavBar } from '../Components/NavBar/NavBar';
import { Options } from '../Components/mensWomensKidsSelector/mensWomensKidsSelector';
import { SearchBar } from '../Components/SearchBar/SearchBar';

export async function getStaticProps(context) {
  const res = await fetch(`https://sneaker-mern-app.herokuapp.com/posts/`)
  const data = await res.json()

  if (!data) {
    return {
      notFound: true,
    }
  }

  return {
    props: { data }, // will be passed to the page component as props
  }
}

export default function Home({data}) {
  return (
      <Container>
        <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Header />
        <SearchBar />
        <PastPresent />
        <Options />
        <SneakerFeed info={data}/>
        <NavBar />
      <footer>
      </footer> 
        </Container>
  )
}

const Container = styled.div`
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: #F5F5F5;
    `